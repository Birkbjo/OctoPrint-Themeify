!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(function(){function e(e){var t=this;t.classId="themeify",t.settings=e[0],t.ownSettings={},t.customRules=[],t.customizedElements=[],t.builtInElements=[],t._ownSettingsPrev={},t.configSubscriptions={enabled:"",theme:""};var o=function(e){return t._ownSettingsPrev[e]};t.onStartupComplete=function(){var e=$("html").attr("id");e&&"touch"==e&&$("html").removeClass(t.classId),t.updateColors(),t._updateCustomRules()},t.enable=function(){t.ownSettings.enabled()&&$.attr("html","class")!=t.classId&&"touch"!==$("html").attr("id")&&$("html").addClass(t.classId).addClass(t.ownSettings.theme())},t.addNewCustomRule=function(){var e={selector:ko.observable(""),rule:ko.observable(""),value:ko.observable(""),enabled:ko.observable(!0)};t._subscribeToCustomRules(e,"customRules"),t.ownSettings.customRules.push(e)},t.onBeforeBinding=function(){t.settings=t.settings.settings,t.ownSettings=t.settings.plugins.themeify,t.customRules=t.ownSettings.customRules.extend({rateLimit:50}),t.onRuleToggle=t.onRuleToggle,t.enable(),t._copyOwnSettings()},t.updateColors=function(){t._removeBuiltInStyles(),t.ownSettings.enableCustomization()&&t.ownSettings.color().filter(function(e){return!!e.enabled()}).map(function(e,n){t._applyRule(e,!0)})},t._updateCustomRules=function(){t._removeCustomStyles(),t.updateColors(),t.ownSettings.enableCustomization()&&t.ownSettings.customRules().filter(function(e){return!!e.enabled()}).map(function(e){t._applyRule(e)})},t._applyRule=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=$(e.selector()),s=o.css(e.rule());n?t.builtInElements.push({elem:o,rule:e.rule(),old:s}):t.customizedElements.push({elem:o,rule:e.rule(),old:s}),$(e.selector()).css(e.rule(),e.value())},t.clone=function(e){if("function"==typeof e)return e();if(null===e||"object"!==n(e)||"isActiveClone"in e)return e;if(e instanceof Date)var o=new e.constructor;else var o=e.constructor();for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e.isActiveClone=null,o[s]=t.clone(e[s]),delete e.isActiveClone);return o},t._copyOwnSettings=function(){Object.keys(t.ownSettings).forEach(function(e,n){t._ownSettingsPrev[e]=t.clone(t.ownSettings[e])})},t.onChange=function(e,n){t.updateColors(),t._copyOwnSettings()},t.onColorChange=function(e,n){t.updateColors(),t._copyOwnSettings()},t.onCustomRuleChange=function(e){t.updateColors(),e.rule()&&e.selector()&&e.value()&&t._updateCustomRules()},t.onThemeChange=function(e){var n=o("theme");(function(e){return $("html").hasClass(e)})(e)||$("html").addClass(e).removeClass(n),t._copyOwnSettings()},t.onEnabledChange=function(e){e&&$.attr("html","class")!=t.classId&&"touch"!==$("html").attr("id")?$("html").addClass(t.classId):($("html").removeClass(t.classId),t._removeCustomStyles()),t._copyOwnSettings()},t.onEnableCustomizationChange=function(e){e&&t.ownSettings.enabled()&&t.ownSettings.enableCustomization?(t.updateColors(),t._updateCustomRules()):e||(t._removeBuiltInStyles(),t._removeCustomStyles()),t._copyOwnSettings()},t._removeCustomStyles=function(){t.customizedElements.map(function(e){return e.elem.css(e.rule,"")})},t._removeBuiltInStyles=function(){t.builtInElements.map(function(e){return e.elem.css(e.rule,"")})},t._removeCustomStylesByRule=function(e){$(e.selector()).css(e.rule(),"")},t.onRuleToggle=function(e){e.enabled(!e.enabled())},t.ruleIsDeleteable=function(e){return!e.deletable||"function"!=typeof e.deletable||e.deletable()},t.onCustomRuleDelete=function(e){t.ruleIsDeleteable(e)&&(t.customRules.remove(e),t._updateCustomRules())},t._subscribeToCustomRules=function(e,n,o){var s=o?o.bind(this,e):t.onCustomRuleChange.bind(this,e);Object.keys(e).map(function(o){t.configSubscriptions[n].push(e[o].subscribe(s))})},t.onSettingsShown=function(){var e=this;Object.keys(t.ownSettings).map(function(n,o){if("customRules"==n)t.configSubscriptions[n]=[],t.customRules().map(function(e,o){t._subscribeToCustomRules(e,n)});else if("color"==n){t.configSubscriptions[n]=[];var s=t.onColorChange;t.ownSettings.color().map(function(e,o){t._subscribeToCustomRules(e,n,s)})}else{var u=t.configOnChangeMap[n]?t.configOnChangeMap[n]:t.onChange.bind(e,n);t.configSubscriptions[n]=t.ownSettings[n].subscribe(u)}})},t.onSettingsHidden=function(){Object.keys(t.configSubscriptions).map(function(e,n){Array.isArray(t.configSubscriptions[e])?t.configSubscriptions[e].forEach(function(e){e.dispose()}):t.configSubscriptions[e].dispose()})},t.configOnChangeMap={enabled:t.onEnabledChange,theme:t.onThemeChange,enableCustomization:t.onEnableCustomizationChange}}OCTOPRINT_VIEWMODELS.push([e,["settingsViewModel"],["#settings_plugin_themeify"]])})},function(e,t){}]);